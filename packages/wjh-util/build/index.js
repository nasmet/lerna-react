!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.utils=n():e.utils=n()}(self,(function(){return(()=>{"use strict";var e={d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{I18:()=>f,animate:()=>a,initJsBridge:()=>l,size:()=>t,theme:()=>r});var t={};e.r(t),e.d(t,{adapteMobileFontSize:()=>o,pxToVm:()=>i,rpxToPx:()=>c});var a={};e.r(a),e.d(a,{createAnimate:()=>d});var r={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750;if(document){var t=function(){var t=document.documentElement,a=t.clientWidth;a>e&&(a=e),t.style.fontSize="".concat(a/(n/100),"px")};t(),window.addEventListener("resize",t,!1),window.addEventListener("orientationchange",t,!1)}}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750;return e/n*100}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750;if(!document)throw new Error("不是浏览器环境下");var t=document.documentElement.clientWidth;return t/n*e}function l(){function e(e){if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(n),setTimeout((function(){document.documentElement.removeChild(n)}),0)}window.bridgeRegisterHandler=function(n){e((function(e){e.registerHandler(n.method,(function(e,t){n.callback&&n.callback(e),t({success:!0},e)}))}))},window.callNativePage=function(n){e((function(){window.WebViewJavascriptBridge.callHandler(n.method,n.data,(function(e){n.callback&&n.callback(e)}))}))}}function d(e){var n=e.timing,t=void 0===n?function(e){return e}:n,a=e.draw,r=e.duration,o=e.endCallback,i=null;return{executeAnimate:function(){var e=performance.now();i=requestAnimationFrame((function n(c){var l=(c-e)/r;l>1&&(l=1);var d=t(l);a(d),l<1?i=requestAnimationFrame(n):o&&o()}))},cancelAnimate:function(){i&&cancelAnimationFrame(i)}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!document)throw new Error("只支持在浏览器环境下并且能操作document对象");if(!e)throw new Error("参数不能为空");var n=document.querySelector(":root");Object.keys(e).forEach((function(t){n.style.setProperty("--".concat(t),"".concat(e[t]))}))}function s(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.r(r),e.d(r,{changeTheme:()=>u}),function(){if(!window.WebViewJavascriptBridge){var e={},n={},t=1,a={registerHandler:function(n,t){e[n]=t},callHandler:function(e,n,t){i({handlerName:e,data:n},t)},disableJavascriptAlertBoxSafetyTimeout:function(e){this.callHandler("_disableJavascriptAlertBoxSafetyTimeout",!1!==e)},_handleMessageFromJava:function(t){!function(t){var a;if(t.responseId){if(!(a=n[t.responseId]))return;a(t.responseData),delete n[t.responseId]}else{if(t.callbackId){var r=t.callbackId;a=function(e){i({handlerName:t.handlerName,responseId:r,responseData:e})}}var o=e[t.handlerName];o?o(t.data,a):console.warn("no handler for message from java",t)}}(t)},hasNativeMethod:function(e,n){this.callHandler("_hasNativeMethod",e,n)}};a.registerHandler("_hasJavascriptMethod",(function(n,t){t(!!e[n])}));var r=window.WVJBCallbacks;if(delete window.WVJBCallbacks,r)for(var o=0;o<r.length;o+=1)r[o](a);window.WebViewJavascriptBridge=a}function i(e,a){if(a){var r="cb_".concat(t+=1,"_").concat((new Date).getTime());n[r]=a,e.callbackId=r}var o=JSON.stringify(e||{});window.WVJBInterface?window.WVJBInterface.notice(o):console.warn("没有注入WVJBInterface")}}();var f=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.languages=n||{"zh-cn":{themeColorSwitch:"主题色切换",purpleTheme:"紫色主题",blueTheme:"蓝色主题"},en:{themeColorSwitch:"Theme color switch",purpleTheme:"Purple Theme",blueTheme:"Blue Theme"}}}var n,t;return n=e,(t=[{key:"getLanguageByKey",value:function(e){return this.languages[e]||{}}},{key:"setLanguage",value:function(e,n){this.languages[e]=n||{}}}])&&s(n.prototype,t),e}();return n})()}));