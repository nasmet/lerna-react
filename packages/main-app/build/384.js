"use strict";(self.webpackChunkmain_app=self.webpackChunkmain_app||[]).push([[384],{24384:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(2784),a=r(47933),o=r(57737),i=r(19034),c=r.n(i),l=r(18004),u=r(80359),s=r(98969),p=r(11454);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={page:1,pageSize:10},h="/main/application";function v(e){var t=y((0,n.useState)([]),2),r=t[0],i=t[1],f=y((0,n.useState)(0),2),d=f[0],b=f[1],v=y((0,n.useState)(!1),2),O=v[0],w=v[1],M=y((0,n.useState)(g),2),j=M[0],S=M[1],k=(0,n.useRef)(!0);(0,n.useEffect)((function(){(0,u.bB)(h)}),[]),(0,n.useEffect)((function(){k.current?k.current=!1:(w(!0),y(s.Z.post("/application/list",j),2)[1].then((function(e){var t=e.list,r=e.total;i(t),b(r)})).finally((function(){w(!1)})))}),[j]),(0,u.x3)((function(){console.log("application show")}),h),(0,u.Wz)((function(e){e.includes(h)||(0,u.hB)(h),console.log("application hide")}),h);var Z=(0,n.useCallback)((function(){var e=[{required:!1}];return[{cmpType:"input",wrapProps:{name:"appid",label:p.Z.formatterMessage("appid"),rules:e}},{cmpType:"input",wrapProps:{name:"name",label:p.Z.formatterMessage("name"),rules:e}}]}),[]),P=(0,n.useMemo)((function(){return[{title:p.Z.formatterMessage("appid"),dataIndex:"appid",render:function(e,t){return n.createElement(a.rU,{to:"/main/application/details/".concat(t.id),type:"link"},t.appid)}},{title:p.Z.formatterMessage("name"),dataIndex:"name"},{title:p.Z.formatterMessage("developer"),dataIndex:"development"},{title:p.Z.formatterMessage("company"),dataIndex:"company"},{title:p.Z.formatterMessage("createTime"),dataIndex:"createTime",render:function(e,t){return c()(t.createTime).format("YYYY-MM-DD HH:mm:ss")}},{title:p.Z.formatterMessage("operate"),render:function(e,t){return n.createElement(a.rU,{to:"/main/application/edit/".concat(t.id),type:"link"},p.Z.formatterMessage("edit"))}}]}),[]),C=(0,n.useMemo)((function(){return[{title:p.Z.formatterMessage("applicationManagement")}]}),[]),E=(0,n.useCallback)((function(e){console.log(e),S((function(t){return m(m({},t),e)}))}),[]),x=(0,n.useCallback)((function(){S((function(){return m({},g)}))}),[]),I=(0,n.useCallback)((function(){e.history.push("/main/application/create")}),[e]);return n.createElement(l.iJ,{breadcrumbConfigs:C,searchConfigs:Z,columns:P,dataSource:r,total:d,loading:O,onSearch:E,onReset:x},n.createElement("div",{style:{marginTop:"15px"}},n.createElement(o.Z,{type:"primary",onClick:I},"创建")))}}}]);