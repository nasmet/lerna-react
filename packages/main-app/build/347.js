"use strict";(self.webpackChunkmain_app=self.webpackChunkmain_app||[]).push([[347],{66347:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(2784),a=r(23430),o=r(13721),c=r(18004),i=r(98969),l=r(11454);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=e.match.params,r=t.did,f=t.eid,m=p((0,n.useState)(!1),2),y=m[0],b=m[1],d=(0,n.useRef)(null);(0,n.useEffect)((function(){var e,t={};(r||f)&&(e="/application/details",t.id=r||f),e&&(b(!0),p(i.Z.post(e,t),2)[1].then((function(e){d.current.setFieldsValue(e)})).finally((function(){b(!1)})))}),[r,f]);var g=(0,n.useMemo)((function(){var e="create";return r&&(e="details"),f&&(e="edit"),[{title:l.Z.formatterMessage("applicationManagement"),path:"/main/application"},{title:l.Z.formatterMessage(e)}]}),[r,f]),h=(0,n.useMemo)((function(){var e=!0;return r&&(e=!1),e}),[r]),v=(0,n.useCallback)((function(e){d.current=e;var t=[{required:!0}];return[{cmpType:"input",wrapProps:{name:"appid",label:l.Z.formatterMessage("appid"),rules:t}},{cmpType:"input",wrapProps:{name:"name",label:l.Z.formatterMessage("name"),rules:t}},{cmpType:"input",wrapProps:{name:"development",label:l.Z.formatterMessage("developer")}},{cmpType:"input",wrapProps:{name:"company",label:l.Z.formatterMessage("company")}},{cmpType:"textarea",wrapProps:{name:"desc",label:l.Z.formatterMessage("desc")}}]}),[]),w=(0,n.useCallback)((function(t){b(!0);var r="/application/create",n="createSuccess";t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),f&&(r="/application/update",n="editSuccess",t.id=f),p(i.Z.post(r,t),2)[1].then((function(){a.ZP.success(l.Z.formatterMessage(n)),e.history.goBack()})).catch((function(){b(!1)}))}),[e.history,f]),O=(0,n.useCallback)((function(){e.history.goBack()}),[e.history]);return n.createElement(o.Z,{spinning:y},n.createElement("div",{style:{maxWidth:"500px"}},n.createElement(c.n4,{formProps:{labelCol:{span:8},wrapperCol:{span:16}},configs:v,showBreadcrumb:!0,breadcrumbConfigs:g,showOkBtn:h,ok:w,cancel:O})))}}}]);